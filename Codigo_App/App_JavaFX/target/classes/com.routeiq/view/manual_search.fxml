<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.routeiq.controllers.ManualSearchController"
            prefWidth="700" prefHeight="600"
            style="-fx-background-color: #fcd9b0;">
    <VBox alignment="CENTER" spacing="15" prefWidth="600" prefHeight="450" AnchorPane.topAnchor="0.0"
          AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.bottomAnchor="0.0">
        <children>

            <!-- Logo superior-->
            <ImageView fitWidth="300" preserveRatio="true">
                <image>
                    <Image url="@/images/logo.png" />
                </image>
            </ImageView>

            <!-- Botón volver -->
            <Button layoutX="650" layoutY="20" text="←" onAction="#volver"
                    style="-fx-font-size: 18px; -fx-background-color: #f15a07; -fx-text-fill: white;" />

            <HBox layoutX="20" layoutY="80" spacing="20">

                <!-- Formulario -->
                <VBox spacing="8" prefWidth="280">
                    <Label text="Búsqueda manual" style="-fx-font-weight: bold; -fx-font-size: 16px;" />

                    <Label text="Carretera principal:" />
                    <TextField fx:id="carreteraPrincipalField" promptText="Ejem: A-7, N-12, V-34..." />

                    <Label text="Carretera destino:" />
                    <TextField fx:id="carreteraDestinoField" promptText="Ej: A-7, N-122..." />

                    <Label text="Punto kilométrico:" />
                    <TextField fx:id="pkField" promptText="Ej: 305.307 o pk 500" />

                    <Label text="Transporte:" />
                    <ComboBox fx:id="transporteCombo" promptText="Selecciona transporte" />

                    <Label text="Dirección:" />
                    <ComboBox fx:id="direccionCombo" promptText="Selecciona dirección" />

                    <Label text="Tipo:" />
                    <ComboBox fx:id="tipoCombo" promptText="Selecciona tipo" onAction="#actualizarCamposTipo" />

                    <Button text="Buscar estudios" onAction="#buscarEstudios"
                            style="-fx-background-color: #f15a07; -fx-text-fill: white; -fx-background-radius: 30;" />
                </VBox>

                <!-- Tabla resultados -->
                <VBox spacing="5" prefWidth="400">
                    <Label text="Resultados" style="-fx-font-weight: bold;" />
                    <TableView fx:id="tablaEstudios" prefWidth="400" prefHeight="300">
                        <columns>
                            <TableColumn fx:id="colNumeroEstudio" text="Nº estudio" prefWidth="120"/>
                            <TableColumn fx:id="colPlano" text="Plano" prefWidth="280"/>
                        </columns>
                    </TableView>
                </VBox>
            </HBox>
        </children>
    </VBox>
</AnchorPane>
